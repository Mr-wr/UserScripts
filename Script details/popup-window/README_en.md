<!--AUTO_SHIELDS_PLEASE_DONT_DELETE_IT-->
<center><div align="center"><a href="https://github.com/ChinaGodMan" target="_blank">
    <img height="96px" width="96px" src="https://avatars.githubusercontent.com/u/96548841?v=4" alt="UserScripts"></a>
<h4><a href="https://github.com/ChinaGodMan/UserScripts" target="_blank"><ruby>人民的勤务员/UserScripts<rt>Github:@ChinaGodMan</rt></ruby></a></h4>
<a href="https://greasyfork.org/users/1169082-%E4%BA%BA%E6%B0%91%E7%9A%84%E5%8B%A4%E5%8A%A1%E5%91%98?per_page=200" target="_blank"><img src="https://img.shields.io/static/v1?label=%20&message=GreasyFork&logo=greasyfork&logoColor=white&labelColor=%23670000&color=%23670000&style=for-the-badge" alt="GreasyFork"></a>
<img src="https://img.shields.io/badge/dynamic/json?&label=%E6%89%80%E6%9C%89%E8%84%9A%E6%9C%AC%E6%80%BB%E5%AE%89%E8%A3%85%E6%95%B0&query=$.totalInstalls&logo=greasyfork&logoColor=white&labelColor=%23670000&color=blue&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Total Installs">
<img src="https://img.shields.io/badge/dynamic/json?&label=%E4%BB%8A%E6%97%A5%E6%89%80%E6%9C%89%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%95%B0&query=$.totalDailyInstalls&logo=greasyfork&logoColor=white&labelColor=%23670000&color=blue&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Total Daily Installs">
<img src="https://img.shields.io/badge/dynamic/json?&label=%E8%84%9A%E6%9C%AC%E6%95%B0%E9%87%8F&query=$.numScripts&logo=greasyfork&logoColor=white&labelColor=%23670000&color=%23670000&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Scripts Count"><br>
<img src="https://img.shields.io/badge/dynamic/json?&label=%E6%89%80%E6%9C%89%E5%A5%BD%E8%AF%84&query=$.totalGoodRatings&logo=greasyfork&logoColor=white&labelColor=%23670000&color=4CAF50&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Good Ratings">
<img src="https://img.shields.io/badge/dynamic/json?&label=%E6%89%80%E6%9C%89%E4%B8%80%E8%88%AC&query=$.totalOkRatings&logo=greasyfork&logoColor=white&labelColor=%23670000&color=FF9800&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Ok Ratings">
<img src="https://img.shields.io/badge/dynamic/json?label=%E6%89%80%E6%9C%89%E5%B7%AE%E8%AF%84&query=$.totalBadRatings&logo=greasyfork&logoColor=white&labelColor=%23670000&color=F44336&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Bad Ratings">
<a href="https://github.com/ChinaGodMan/UserScripts" target="_blank"><img src="https://img.shields.io/github/stars/ChinaGodMan/UserScripts?label=%E6%98%9F%E6%A0%87&logo=github&logoColor=white&labelColor=black&color=FF69B4&style=for-the-badge" alt="Stars"></a>
<a href="https://github.com/ChinaGodMan/UserScripts" target="_blank"><img src="https://img.shields.io/github/forks/ChinaGodMan/UserScripts?label=%E5%A4%8D%E5%88%BB&logo=github&logoColor=white&labelColor=black&color=grey&style=for-the-badge" alt="Forks"></a>
<a href="https://github.com/ChinaGodMan/UserScripts/issues" target="_blank"><img src="https://img.shields.io/github/issues/ChinaGodMan/UserScripts?label=%E9%97%AE%E9%A2%98&logo=github&logoColor=white&labelColor=black&style=for-the-badge" alt="Issue"></a>
<center><div align="center"><sub>⭐<a href="https://github.com/ChinaGodMan/UserScripts" target="_blank" style="color: #556B2F; background-color: pink;">如果脚本对你有帮助,可以点亮星星以资d鼓励</a>⭐</sub></div></center>
</div></center>
<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">
<!--AUTO_SHIELDS_PLEASE_DONT_DELETE_IT-END-->
<center><div align="center">
    <h1>小窗口预览</h1>
    <p>「 拖拽链接时在弹出窗口中打开链接，并在打开前提供预览，使用 Edge 的预读技术。同时在小窗口打开时在背后添加亚克力效果。 」</p>
    <img src="https://views.whatilearened.today/views/github/504880/hmjz100.svg" alt="Views">
    <p>Download：<a href="https://github.com/ChinaGodMan/UserScripts/tree/main/Script details/popup-window">Github</a> | ⭐<a
            href="https://greasyfork.org/zh-CN/scripts/504880">Greasy
            Fork</a></p><details><summary>更新记录</summary><h1><strong>🛠️ Small Window Preview 更新日志</strong></h1>
<h3><strong>📅 2024/9/10 11:05  - Ver 2.5.1.0</strong></h3>
<p><strong>修复</strong>: 无法跨源读取弹出窗口大小位置的问题。<br />
<strong>新增</strong>: 当无法跨源读取到弹窗位置时，会发送信息给弹窗，允许弹窗自己设置大小和位置。</p>
<hr />
<h3><strong>📅 2024/9/10 09:24  - Ver 2.5.0.0</strong></h3>
<p><strong>感谢</strong>: <a href="https://greasyfork.org/zh-CN/users/20361">tony0809</a> 的代码贡献。<br />
<strong>新增</strong>:<br />
• 开启 <code>记录窗口位置</code> 时，自动记录当前域名配置。<br />
• 查找窗口配置逻辑：域名配置 → 自定义窗口配置 → 脚本自带配置。<br />
• 配置无需手动编辑,脚本会自动在你更改窗口大小时更新域名配置.每次你改变的窗口大小会记录到全局自定义配置<br />
• 配置规则参考<a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/258907#comment-529654">#529654</a>   <br />
• 新增功能演示请参考下方视频。</p>
<hr />
<h3><strong>📅 2024/9/3 05:26 - Ver 2.4.0.20</strong></h3>
<p><strong>修复</strong>: <a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/258301#comment-527837">#527837</a> 事件错误，修改为检查鼠标 <code>y</code> 轴 &lt; 1 时判断移动是否在浏览器标签页上。</p>
<hr />
<h3><strong>📅 2024/9/2 05:34  - Ver 2.4.0.18</strong></h3>
<p><strong>新增</strong>: <a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/258301#comment-527625">#527625</a><br />
• 长按鼠标模式下按下键盘不触发预览窗口。<br />
• 拖拽模式下拖拽链接到新标签时不会触发预览窗口。</p>
<hr />
<h3><strong>📅 2024/8/29 08:39 - Ver 2.4.0.9</strong></h3>
<p><strong>新增</strong>: 拖拽时增加超时显示进度条，时间耗尽时取消拖拽打开预览窗口。</p>
<hr />
<h3><strong>📅 2024/8/29 06:28 - Ver 2.4.0.8</strong></h3>
<p><strong>优化</strong>: 移除长按时监听鼠标移动的逻辑，改为监听鼠标进入拖拽状态时取消打开预览窗口。<a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/257270#comment-526172">#526172</a></p>
<hr />
<h3><strong>📅 2024/8/27 00:33 - Ver 2.4.0.5</strong></h3>
<p><strong>修复</strong>: <a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/257270#comment-526054">#526054</a> 反馈的BUG：<br />
• 修复在关闭预览窗后无法触发时间条打开预览窗的概率性问题。</p>
<hr />
<h3><strong>📅 2024/8/25 04:59  - Ver 2.4.0.2</strong></h3>
<p><strong>新增</strong>: <a href="https://greasyfork.org/zh-CN/scripts/504880/discussions/257270">#257270</a><br />
• 添加长按时显示倒计时，增加记住窗口位置功能。</p>
<hr />
<h3><strong>📅 2024/8/24 07:29  - Ver 2.4</strong></h3>
<p><strong>优化</strong>: 添加语言包，优化脚本性能。</p>
<hr />
<h3><strong>📅 2024/8/23 08:12  - Ver 2.4</strong></h3>
<p><strong>优化</strong>: 兼容 Chrome 插件 <code>Google Chrome 的超级拖拽 0.9.9</code>。<br />
<strong>修复</strong>: 修复点击小窗口关闭按钮时亚克力图层不关闭的问题。</p></details> 
    <img src="https://raw.gitmirror.com/ChinaGodMan/UserScriptsHistory/main/stats/504880.png">
</div></center>

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## Feature Introduction
🔗 **Drag and Drop to Open Preview Window** — Easily open and preview web links in a small window by dragging them, utilizing Edge's pre-read technology. The background of the small window features an acrylic effect to enhance visual appeal.

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

# Menu Options Description

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## Options List

1. **Action Mode (actionMode)**
   - **Description**: Sets the current action mode. Determines which mode to use based on the value of `actionMode`.
     - **Action Mode 1**: `1` - Triggers the preview window when the link is long-pressed.
     - **Action Mode 2**: `2` - Triggers the preview window when the link is dragged.
     - **Default Action Mode**: `0` - Defaults to enabling both of the above action modes.

2. **Long Press Duration (longPressDuration)**
   - **Description**: Sets the duration of the long press action.
   - **Action**: `setLongPressDuration`, used to modify the long press duration in conjunction with `Action Mode (actionMode)`.

3. **Blur Effect Enabled (blurEnabled)**
   - **Description**: Enables or disables the background blur effect.
   - **Action**: `toggleBlurEffect`, used to enable or disable the blur effect.

4. **Blur Intensity (blurIntensity)**
   - **Description**: Sets the intensity of the background blur.

5. **Close on Mouse Click (closeOnMouseClick)**
   - **Description**: Closes the preview window when clicking the mouse in the main window (parent window of the preview window).
   - **Action**: `toggleCloseOnMouseClick`, used to enable or disable the setting to close the preview window on mouse click.

6. **Close on Scroll (closeOnScroll)**
   - **Description**: Closes the preview window when scrolling the mouse wheel in the main window (parent window of the preview window).
   - **Action**: `toggleCloseOnScroll`, used to enable or disable the setting to close the preview window on mouse scroll.

7. **Window Width (windowWidth)**
   - **Description**: Sets the width of the preview window. This configuration will override the set width when `Save Window Configuration` is enabled.

8. **Window Height (windowHeight)**
   - **Description**: Sets the height of the preview window. This configuration will override the set height when `Save Window Configuration` is enabled.

9. **Show Countdown (showCountdown)**
   - **Description**: When `Action Mode (actionMode)=1` is enabled, displays a countdown progress bar below the mouse before the preview window is triggered by a long press. The time is set by `Long Press Duration (longPressDuration)`.
   - **Action**: Used to enable or disable the countdown progress bar display.

10. **Show Drag Timeout (showCountdowndrag)**
   - **Description**: When enabled, a timeout progress bar is displayed under the mouse before the drag preview window opens. The duration is determined by the `Drag Timeout (dragTimeOut)` setting. If the time runs out, the drag operation will not open the preview window. If the timeout is set to 0, both the progress bar and the timeout-based cancellation of the drag preview will be disabled.
   - **Action**: Used to enable or disable the display of the timeout progress bar.

11. **Save Window Configuration (saveWindowConfig)**
    - **Description**: Used to remember and save the size and position configuration of the window, overriding the user-defined preview window height and width.

**Each option is followed by a corresponding action function, which is used to update the menu settings. By clicking on an option, users can directly change the related configuration and see the effect immediately.**

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## Supported Web Pages
🌐 **Applicable to All Web Pages** — Supports all web pages, allowing convenient link preview and opening functionality anytime, anywhere.

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## Script Highlights:

- **Acrylic Effect**: Adds a beautiful background effect to the small window.
- **Link Pre-read**: Accelerates loading using Edge's technology.
- **Configurable Options**:
  - Adjustable blur effect intensity.
  - Customizable small window size.

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## Notes:
- Clicking or scrolling on the page can automatically close the small window.
- Experience it now!
🚀 **Enhance Browsing Efficiency** — Install the script to enjoy intelligent link previews and aesthetically pleasing small windows!

<video src="https://github.com/ChinaGodMan/UserScripts/raw/main/Script%20details/popup-window/preview/video.mp4"
       poster="https://greasyfork.s3.us-east-2.amazonaws.com/45120umjmiqk1lfkh0116ad6pnui"
       width="320" height="240" controls loop>
</video>

![1.png](https://greasyfork.s3.us-east-2.amazonaws.com/45120umjmiqk1lfkh0116ad6pnui)
<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## Original Author
 [hiisme](https://greasyfork.org/zh-CN/scripts/504567)





<!--AUTO_ABOUT_PLEASE_DONT_DELETE_IT-->
> ### 网页相关脚本
> - [**去除链接下划线**](https://greasyfork.org/scripts/498625): 去除网页链接的下划线
> - [**解除CSDN登录复制限制**](https://greasyfork.org/scripts/505207): 去你妈的 CSDN 登录复制，无需登录即可复制代码框内容
> - [**网页写入剪辑版授权管理器**](https://greasyfork.org/scripts/497403): 禁止网页向剪辑版拉屎，绿色为放行，红色禁止，橙色临时方向
> - [**小窗口预览**](https://greasyfork.org/scripts/504880): 拖拽链接时在弹出窗口中打开链接，并在打开前提供预览，使用 Edge 的预读技术。同时在小窗口打开时在背后添加亚克力效果。
> - [**绚丽渐变美化网页表格**](https://greasyfork.org/scripts/507036): 自动为网页上的表格所有列应用颜色渐变美化.

<!--AUTO_ABOUT_PLEASE_DONT_DELETE_IT-END-->
<!--AUTO_HELP_PLEASE_DONT_DELETE_IT-->

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 使用帮助
<p><a href="https://github.com/ChinaGodMan/UserScripts"><strong>更多用户脚本</strong></a> /
<a href="#top">回到顶部↑</a></p>
<!--AUTO_HELP_PLEASE_DONT_DELETE_IT-END-->
